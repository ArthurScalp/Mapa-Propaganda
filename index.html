<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Mapa Publicit√°rio de Santana do Acara√∫ - CE - 2025</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <style>
    body, html { margin:0; padding:0; height:100%; font-family: Arial, Helvetica, sans-serif; }
    #map { position:absolute; top:0; left:0; right:0; bottom:0; }
    .topbar {
      position:absolute; top:0; left:0; right:0; display:flex; flex-wrap:wrap; gap:8px; align-items:center; padding:10px 10px; z-index:1000;
      background:rgba(44,62,80,0.9); color:#fff; font-size:16px; font-weight:bold;
    }
    .topbar input[type="text"]{ padding:6px; font-size:15px; width:100px; border-radius:4px; border:1px solid #ccc; }
    .topbar button { padding:6px 12px; font-size:14px; cursor:pointer; border:none; border-radius:4px; color:#fff; font-weight:bold; }
    .btn-saude { background:#27ae60; }       /* Verde */
    .btn-alim { background:#e67e22; }       /* Laranja */
    .btn-serv { background:#f1c40f; color:#000; } /* Amarelo */
    .btn-com { background:#4073f5; }        /* Azul ajustado */
    .btn-saude:hover { background:#1e8449; }
    .btn-alim:hover { background:#ca6f1e; }
    .btn-serv:hover { background:#d4ac0d; }
    .btn-com:hover { background:#1a55d3; }
    .btn-search { background:#86878a; }      /* Buscar */
    .btn-list { background:#86878a; }        /* Todas */
    #bottomBar {
      position:absolute; bottom:0; left:0; right:0; padding:5px 10px; display:flex; gap:8px; overflow-x:auto; z-index:1000;
      background: rgba(0,0,0,0.5); height:110px; align-items:center;
    }
    .store-logo { width:100px; border-radius:6px; border:2px solid #fff; }
    .store-btn { display:inline-block; margin-top:4px; padding:4px 6px; background:green; color:#fff; border-radius:4px; text-decoration:none; font-size:12px; }
    .store-container { text-align:center; }
  </style>
</head>
<body>
  <div class="topbar">
    üìç Mapa Publicit√°rio
    <input id="q" type="text" placeholder="ex: 16" />
    <button id="btnSearch" class="btn-search">Buscar</button>
    <button id="btnList" class="btn-list">Todas</button>
    <button class="btn-saude" id="btnSaude">Sa√∫de</button>
    <button class="btn-alim" id="btnAlim">Alimenta√ß√£o</button>
    <button class="btn-serv" id="btnServ">Servi√ßos</button>
    <button class="btn-com" id="btnCom">Com√©rcio</button>
  </div>

  <div id="map"></div>
  <div id="bottomBar"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const stores = [
      // --- Sa√∫de ---
      { id:"01", lat:-3.458989, lng:-40.211312, whatsapp:"5588999320315", category:"Sa√∫de" },
      { id:"02", lat:-3.461124, lng:-40.208692, whatsapp:"5588999612096", category:"Sa√∫de" },
      { id:"03", lat:-3.459921, lng:-40.211520, whatsapp:"5588999966746", category:"Sa√∫de" },
      { id:"04", lat:-3.461348, lng:-40.209577, whatsapp:"5588993335636", category:"Sa√∫de" },
      { id:"05", lat:-3.459998, lng:-40.211163, whatsapp:"5588993758322", category:"Sa√∫de" },
      { id:"06", lat:-3.460786, lng:-40.208148, whatsapp:"5588997238535", category:"Sa√∫de" },
      { id:"07", lat:-3.461756, lng:-40.209153, whatsapp:"5588996832954", category:"Sa√∫de" },
      { id:"08", lat:-3.460285, lng:-40.211196, whatsapp:"5588996555900", category:"Sa√∫de" },
      { id:"11", lat:-3.460895, lng:-40.209753, whatsapp:"5588999015503", category:"Sa√∫de" },
      // --- Alimenta√ß√£o ---
      { id:"12", lat:-3.460743, lng:-40.208147, whatsapp:"5588996086589", category:"Alimenta√ß√£o" },
      { id:"13", lat:-3.458361, lng:-40.211691, category:"Alimenta√ß√£o" },
      { id:"14", lat:-3.461581, lng:-40.209177, whatsapp:"5588997286037", category:"Alimenta√ß√£o" },
      { id:"15", lat:-3.458995, lng:-40.209667, whatsapp:"5588996354940", category:"Alimenta√ß√£o" },
      { id:"16", lat:-3.459405, lng:-40.206793, whatsapp:"5588996607152", category:"Alimenta√ß√£o" },
      { id:"17", lat:-3.458779, lng:-40.203935, whatsapp:"5588996401920", category:"Alimenta√ß√£o" },
      { id:"18", lat:-3.459504, lng:-40.210931, whatsapp:"5588996141428", category:"Alimenta√ß√£o" },
      { id:"19", lat:-3.461232, lng:-40.210082, whatsapp:"5588999518776", category:"Alimenta√ß√£o" },
      { id:"20", lat:-3.459253, lng:-40.206606, whatsapp:"5588994897676", category:"Alimenta√ß√£o" },
      { id:"21", lat:-3.460963, lng:-40.209886, whatsapp:"5588993443600", category:"Alimenta√ß√£o" },
      { id:"22", lat:-3.459104, lng:-40.208934, whatsapp:"5588999524771", category:"Alimenta√ß√£o" },
      // --- Servi√ßos ---
      { id:"23", lat:-3.458669, lng:-40.204319, whatsapp:"5588996573335", category:"Servi√ßos" },
      { id:"24", lat:-3.459886, lng:-40.212184, whatsapp:"5588997381290", category:"Servi√ßos" },
      { id:"25", lat:-3.460282, lng:-40.210314, whatsapp:"5588996826374", category:"Servi√ßos" },
      { id:"26", lat:-3.457966, lng:-40.209832, whatsapp:"5588996761351", category:"Servi√ßos" },
      { id:"27", lat:-3.459955, lng:-40.211127, whatsapp:"5588997135985", category:"Servi√ßos" },
      { id:"28", lat:-3.458808, lng:-40.210128, whatsapp:"5588999917735", category:"Servi√ßos" },
      { id:"29", lat:-3.463854, lng:-40.203010, whatsapp:"5588997391882", category:"Servi√ßos" },
      { id:"30", lat:-3.457967, lng:-40.212021, whatsapp:"558899954333", category:"Servi√ßos" },
      { id:"31", lat:-3.461130, lng:-40.207456, whatsapp:"5588999048925", category:"Servi√ßos" },
      { id:"32", lat:-3.458048, lng:-40.206124, whatsapp:"5588993370108", category:"Servi√ßos" },
      { id:"33", lat:-3.460360, lng:-40.210887, category:"Servi√ßos" },
      { id:"34", lat:-3.459092, lng:-40.207505, whatsapp:"5588996733692", category:"Servi√ßos" },
      { id:"35", lat:-3.457401, lng:-40.210252, whatsapp:"5588996134260", category:"Servi√ßos" },
      { id:"36", lat:-3.458197, lng:-40.208338, whatsapp:"5588997624314", category:"Servi√ßos" },
      { id:"37", lat:-3.463134, lng:-40.205110, whatsapp:"5588996035924", category:"Servi√ßos" },
      { id:"38", lat:-3.457985, lng:-40.208032, whatsapp:"5588997287079", category:"Servi√ßos" },
      { id:"39", lat:-3.460250, lng:-40.208088, whatsapp:"5588997387283", category:"Servi√ßos" },
      { id:"40", lat:-3.458239, lng:-40.204740, whatsapp:"5588996194374", category:"Servi√ßos" },
      { id:"41", lat:-3.460189, lng:-40.199831, whatsapp:"5588996488990", category:"Servi√ßos" },
      { id:"42", lat:-3.457832, lng:-40.209751, whatsapp:"5588998088720", category:"Servi√ßos" },
      { id:"44", lat:-3.458267, lng:-40.204694, whatsapp:"5588992732995", category:"Servi√ßos" },
      { id:"45", lat:-3.460195, lng:-40.211787, whatsapp:"5588999187492", category:"Servi√ßos" },
      { id:"46", lat:-3.458823, lng:-40.203554, whatsapp:"5588999320268", category:"Servi√ßos" },
      // --- Com√©rcio ---
      { id:"47", lat:-3.460333, lng:-40.211332, whatsapp:"5588996696445", category:"Com√©rcio" },
      { id:"48", lat:-3.456487, lng:-40.206766, whatsapp:"5588996593310", category:"Com√©rcio" },
      { id:"49", lat:-3.460379, lng:-40.211395, whatsapp:"5588994404629", category:"Com√©rcio" },
      { id:"50", lat:-3.458335, lng:-40.206499, whatsapp:"5588999224939", category:"Com√©rcio" },
      { id:"51", lat:-3.458161, lng:-40.205987, category:"Com√©rcio" },
      { id:"52", lat:-3.463254, lng:-40.207343, whatsapp:"5588996649629", category:"Com√©rcio" },
      { id:"53", lat:-3.461329, lng:-40.210201, whatsapp:"5588997427893", category:"Com√©rcio" },
      { id:"54", lat:-3.462645, lng:-40.207352, whatsapp:"5588999118169", category:"Com√©rcio" },
      { id:"55", lat:-3.461346, lng:-40.209469, whatsapp:"5588997279246", category:"Com√©rcio" },
      { id:"57", lat:-3.459370, lng:-40.211616, category:"Com√©rcio" },
      { id:"58", lat:-3.461115, lng:-40.209956, whatsapp:"5588992711780", category:"Com√©rcio" },
      { id:"59", lat:-3.460115, lng:-40.210450, category:"Com√©rcio" },
      { id:"60", lat:-3.460824, lng:-40.208309, category:"Com√©rcio" },
      { id:"61", lat:-3.460828, lng:-40.212191, whatsapp:"5588996024744", category:"Com√©rcio" },
      { id:"62", lat:-3.456139, lng:-40.211622, whatsapp:"5588999992252", category:"Com√©rcio" }
    ];

    const categories = {
      saude: stores.filter(s=>+s.id>=1 && +s.id<=11),
      alimentacao: stores.filter(s=>+s.id>=12 && +s.id<=22),
      servicos: stores.filter(s=>+s.id>=23 && +s.id<=46),
      comercio: stores.filter(s=>+s.id>=47 && +s.id<=62),
    };

    // Mapa Leaflet
    const map = L.map('map').setView([-3.4595, -40.207],16);
    L.tileLayer('https://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}', {
      maxZoom:20, subdomains:['mt0','mt1','mt2','mt3']
    }).addTo(map);

    // √çcones padr√£o
    stores.forEach(s=>{
      L.marker([s.lat,s.lng]).addTo(map);
    });

    const bottombar = document.getElementById('bottomBar');
    let scrollInterval, searchTimeout;

    function showBottomStores(list){
      clearInterval(scrollInterval);
      bottombar.innerHTML="";
      let idx=0;
      function nextStore(){
        if(idx>=list.length) idx=0;
        bottombar.innerHTML = `<div class="store-container">
          <img class="store-logo" src="logos/${list[idx].id}.jpg" /><br>
          <a href="https://www.google.com/maps/dir/?api=1&destination=${list[idx].lat},${list[idx].lng}" target="_blank" class="store-btn">üìç Navega√ß√£o</a>
          ${list[idx].whatsapp?`<a href="https://wa.me/${list[idx].whatsapp}" target="_blank" class="store-btn">üí¨ WhatsApp</a>`:""}
        </div>`;
        idx++;
      }
      nextStore();
      scrollInterval = setInterval(nextStore,10000);
    }

    function showCategory(cat){
      if(!categories[cat]) return;
      showBottomStores(categories[cat]);
    }

    document.getElementById('btnSaude').onclick = ()=>showCategory('saude');
    document.getElementById('btnAlim').onclick = ()=>showCategory('alimentacao');
    document.getElementById('btnServ').onclick = ()=>showCategory('servicos');
    document.getElementById('btnCom').onclick = ()=>showCategory('comercio');

    // Buscar
    document.getElementById('btnSearch').onclick = buscarLoja;
    document.getElementById('q').addEventListener('keypress', function(e){
      if(e.key==='Enter') buscarLoja();
    });

    function buscarLoja(){
      const q = document.getElementById('q').value.trim();
      const store = stores.find(s=>s.id===q);
      if(!store) return alert("Loja n√£o encontrada");

      map.setView([store.lat,store.lng],18);
      L.popup()
        .setLatLng([store.lat,store.lng])
        .setContent(`<img src="logos/${store.id}.jpg" style="width:150px"><br>
          <a href="https://www.google.com/maps/dir/?api=1&destination=${store.lat},${store.lng}" target="_blank" class="store-btn">üìç Navega√ß√£o</a>
          ${store.whatsapp?`<a href="https://wa.me/${store.whatsapp}" target="_blank" class="store-btn">üí¨ WhatsApp</a>`:""}`)
        .openOn(map);

      showBottomStores([store]);

      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(()=>{
        map.closePopup();
        bottombar.innerHTML="";
        map.setView([-3.4595, -40.207],16);
      },10000);
    }

    // Mostrar todas as lojas
    document.getElementById('btnList').onclick = ()=>{
      showBottomStores(stores);
    };
  </script>
</body>
</html>
